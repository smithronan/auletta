<ion-view title="{{viewTitle}}">
  <ion-nav-buttons side="left">
        <button class="button button-icon button-clear ion-navicon" menu-toggle="left"></button>
  </ion-nav-buttons>
  <ion-nav-buttons side="secondary">
  	<button class="button icon ion-help" href="#/tab/decks"></button>  	  	
  </ion-nav-buttons>
  <ion-content ng-show="(contentStep==1)" class="padding plain">
  	<div class="list add-deck">
	  <label class="item item-input item-stacked-label">
	    <span class="input-label">Deck Title</span>
	    <input type="text" ng-model="currentDeck.deckTitle">
	  </label>
	  <label class="item item-input item-stacked-label">
	    <span class="input-label">Description</span>
	    <textarea rows="10" ng-model="currentDeck.deckDescription"></textarea>
	  </label>	  
	</div>
  	<button class="button icon-right ion-chevron-right button-block button-calm" ng-click="gotoStep(2)">Next</button>
  </ion-content>
  
  <ion-content ng-show="(contentStep==2)" class="padding plain">
    <div class="add-card-count">You have added {{currentDeck.deckCards.length}} cards</div>
    <div class="card-add-controls">
    	<button class="button icon ion-camera" ng-click="captureImage()"></button><br/>
    	<button class="button icon ion-quote" ng-click="toggleCardTextEntry()"></button><br/>
    	<button class="button icon ion-mic-a" ng-click="captureAudio()"></button><br/><br/><br/>
    	<button class="button icon ion-monitor" ng-click="togglePreview()"></button><br/><br/><br/>
    	<button class="button icon ion-refresh" ng-click="resetToBlankCard()"></button>    	
    </div>
    
    <div class="card-preview-small">
    <img class="padding card-preview" ng-src="{{currentCard.cardImage}}" ng-click="captureImage()" />
	<h4 ng-show="!enteringCardText" class="card-preview" ng-click="toggleCardTextEntry()">{{currentCard.cardText}}</h4>
	<div ng-show="enteringCardText">
		<input type="text" ng-model="currentCard.cardText" class="capture-text">
		<button class="button button-small button-balanced icon ion-checkmark" ng-click="toggleCardTextEntry()"></button>
	</div>
	<button class="button button-block icon ion-play" ng-click="playAudio(currentCard.cardAudio)"></button>	
    </div>
    
        
    <div class="">&nbsp;</div>
    <div class="button-bar">
  		<button class="button" ng-click="saveCard()">
  			<i class="icon ion-checkmark"></i> Save Card  			
  		</button>  		
	</div>
	<p></p>    
        
	<div class="button-bar">
  		<a class="button icon-left ion-chevron-left button-calm" ng-click="gotoStep(1)">Back</a>
  		<a class="button icon-right ion-chevron-right button-calm" ng-click="gotoStep(3)">Next</a>  		
	</div>	   
    <p></p>   
  </ion-content>
  
  <ion-content ng-show="(contentStep==3)" class="padding plain">
  	<div class="list card deck-card deck-card-preview">
   		<div class="item item-divider"><h2>{{currentDeck.deckTitle}} ({{currentDeck.deckCards.length}})</h2></div>
   			<a class="item item-thumbnail-left item-text-wrap">
   					<img ng-src="{{currentDeck.deckThumb}}">    				
 					<p>{{currentDeck.deckDescription}}</p>
 			</a>   			
 		</div>
 	</div>
  	<div ng-repeat="card in currentDeck.deckCards" class="card-preview-small card-preview-gallery">
    	<img class="padding card-preview" ng-src="{{card.cardImage}}" />
		<h4 class="card-preview">{{card.cardText}}</h2>				
    </div>
    
  	<div class="button-bar">  		
  		<a class="button icon-left ion-chevron-left button-calm" ng-click="gotoStep(2)">Back</a>
  		<a class="button icon-right ion-checkmark button-balanced" ng-click="saveDeck()">Save Deck</a>  		
	</div>  		  	
  </ion-content>
  
  <ion-content ng-show="showPreview" class="padding plain">
	  <img class="padding card-preview" ng-src="{{currentCard.cardImage}}" ng-click="captureImage()" />
	    <h2 class="card-preview" ng-click="captureText()">{{currentCard.cardText}}</h2>
	    <button class="button button-block icon ion-play" ng-click="playAudio(currentCard.cardAudio)"></button>
	    	    
	    <div class="button-bar">
  		<button class="button" ng-click="togglePreview()">
  			<i class="icon ion-close-circled"></i> Close Preview  			
  		</button>
	</div>
	<p></p>    	    
  </ion-content>
  
</ion-view>