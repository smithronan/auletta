<ion-view title="{{viewTitle}}">
  <ion-nav-buttons side="left">
        <button class="button button-icon button-clear ion-navicon" menu-toggle="left"></button>
  </ion-nav-buttons>
  <ion-nav-buttons side="secondary">
  	<button class="button icon ion-close" ng-click="cancelAddDeck()"></button>  	  	
  </ion-nav-buttons>
  <ion-content ng-show="(contentStep==1)" class="padding plain">
  	<div class="list add-deck">
	  <label class="item item-input item-stacked-label">
	    <span class="input-label">Deck Title</span>
	    <input type="text" ng-model="currentDeck.deckTitle">
	  </label>
	  <label class="item item-input item-stacked-label">
	    <span class="input-label">Description</span>
	    <textarea rows="10" ng-model="currentDeck.deckDescription"></textarea>
	  </label>	  
	</div>
  	<button class="button icon-right ion-chevron-right button-block button-calm" ng-click="gotoStep(2)">Next</button>
  </ion-content>
  
  <ion-content ng-show="(contentStep==2)" class="padding plain">
    <div class="add-card-count">You have added {{currentDeck.deckCards.length}} cards</div>
    <div class="card-add-controls">
    	<button class="button icon ion-camera" ng-click="captureImage()"></button><br/>
    	<button class="button icon ion-compose" ng-click="captureText()"></button><br/>
    	<button class="button icon ion-mic-a" ng-click="captureAudio()"></button><br/><br/><br/>
    	<button class="button icon ion-grid" ng-click="togglePreview()"></button><br/><br/><br/>
    	<button class="button icon ion-refresh" ng-click="resetToBlankCard()"></button>    	
    </div>
    
    <div class="card-preview-small">
    <img class="padding card-preview-add" ng-src="{{currentCard.cardImage}}" ng-click="captureImage()" />
	<h4 ng-show="!enteringCardText" class="card-preview" ng-click="captureText()">{{currentCard.cardText}}</h4>		
    <ion-toggle class="gallery-toggle" ng-model="saveToGallery" ng-change="toggleSaveToGallery()" toggle-class="toggle-calm">Add to Gallery</ion-toggle>
    </div>
    
    <div class="button-bar">
  		<button class="button" ng-click="saveCard()">
  			<i class="icon ion-checkmark"></i> Save Card 			
  		</button>	  		
	</div>
	<p></p>    
        
	<div class="button-bar">
  		<a class="button icon-left ion-chevron-left button-calm" ng-click="gotoStep(1)">Back</a>
  		<a class="button icon-right ion-chevron-right button-calm" ng-click="gotoStep(3)">Next</a>  		
	</div>	   
    <p></p>   
  </ion-content>
  
  <ion-content ng-show="(contentStep==3)" class="padding plain" scroll="false">
  	<ion-scroll class="review-save-scroll" zooming="false" direction="y">
  		<div class="card deck-preview-card" >
  			<div class="item item-divider deck-list-item-header">
				<div class="deck-title-header"><h2>{{currentDeck.deckTitle}}</h2></div>		    	
			</div>
			<a class="item item-thumbnail-left item-text-wrap" ng-click="showPlayerModal(deck.deckId)">
				<img ng-src="{{currentDeck.deckThumb}}">    				
	    		<p>{{currentDeck.deckDescription}}</p>
	    	</a>
	    	<div class="item item-divider deck-list-item-footer">    		
	    		<div class="deck-card-footer">
	    			Cards: {{currentDeck.deckCards.length}}
	    		</div>
	    		<div class="deck-card-footer-actions">
	    			<button class="button button-small button-clear icon ion-edit" ng-click=""></button>
	    			<button class="button button-small button-clear icon ion-trash-a" ></button>
	    		</div>
	  		</div>
		</div>
  		<div ng-repeat="card in currentDeck.deckCards" class="card-preview-small card-preview-gallery">
	    	<img class="padding card-preview" ng-src="{{card.cardImage}}" />
			<h4 class="card-preview">{{card.cardText}}</h2>				
	    </div>
 	</ion-scroll>
  	<br/>
    
  	<div class="button-bar">  		
  		<a class="button icon-left ion-chevron-left button-calm" ng-click="gotoStep(2)">Back</a>
  		<a class="button icon-right ion-checkmark button-balanced" ng-click="saveDeck()">Save Deck</a>  		
	</div>  		  	
  </ion-content>
  
  <ion-content ng-show="showPreview" class="padding plain">
	  <img class="padding card-preview" ng-src="{{currentCard.cardImage}}" />
	    <h2 class="card-preview">{{currentCard.cardText}}</h2>
	    <button class="button button-block icon ion-play" ng-click="playAudio(currentCard.cardAudio)"></button>
	    	    
	    <div class="button-bar">
  		<button class="button" ng-click="togglePreview()">
  			<i class="icon ion-close-circled"></i> Close Preview  			
  		</button>
	</div>
	<p></p>    	    
  </ion-content>
  <div class="home-footer" ng-show="(contentStep==1)">
  	<img ng-src="img/grass-birds-no-butterfly-{{imageRandomNumber}}.png" class="home-bottom" />
  </div>
</ion-view>